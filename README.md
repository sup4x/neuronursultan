# Telegram Bot на Rust

Простой Telegram бот с минимальным функционалом.

## Функционал

- Работает только в одной разрешенной группе/чате
- **Автоматическая отправка случайного YouTube видео** раз в день в случайное время с 10:00 до 22:00
- В разрешенной группе:
  - Отвечает на команду `/start`
  - Эхо-бот: повторяет все текстовые сообщения
- В других группах:
  - Не отвечает на сообщения
  - Логирует подробную информацию о чате, пользователе и сообщениях
- Автоматическое логирование в файлы с группировкой по датам (формат: `logs/dd-mm-yy/bot.log`)

## Установка и запуск

1. Создайте бота через [@BotFather](https://t.me/botfather) и получите токен

2. Получите YouTube API ключ:
   - Перейдите в [Google Cloud Console](https://console.cloud.google.com/)
   - Создайте новый проект
   - Включите "YouTube Data API v3"
   - Создайте API ключ в разделе "Credentials"
   - (Бесплатная квота: 10,000 units/день, поиск = ~100 units)

3. Создайте файл `.env` на основе `.env.example`:
   ```bash
   cp .env.example .env
   ```

4. Вставьте ваши ключи в файл `.env`:
   ```
   TELOXIDE_TOKEN=ваш_токен_здесь
   ALLOWED_CHAT_ID=-1001234567890
   YOUTUBE_API_KEY=ваш_youtube_api_ключ
   ```

   Чтобы узнать ID группы:
   - Добавьте бота [@userinfobot](https://t.me/userinfobot) в вашу группу
   - Он покажет Chat ID группы
   - Или используйте [@getidsbot](https://t.me/getidsbot)

5. Запустите бота:
   ```bash
   cargo run
   ```

## Зависимости

- `teloxide` - библиотека для работы с Telegram Bot API
- `tokio` - асинхронная среда выполнения
- `fern` - для логирования в файлы
- `chrono` - для работы с датами
- `dotenvy` - для загрузки переменных окружения из `.env`
- `rand` - для генерации случайных чисел
- `reqwest` - для HTTP запросов к YouTube API
- `serde` + `serde_json` - для работы с JSON

## Структура логов

Логи сохраняются в папке `logs/` с автоматической группировкой по датам:
```
logs/
  05-01-26/
    bot.log
  06-01-26/
    bot.log
```

Каждый лог содержит:
- Время события
- ID чата
- Информацию о пользователе
- Текст сообщения
- Дополнительные метаданные
